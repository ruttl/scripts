(function(){"use strict";const it="https://cdn.jsdelivr.net/gh/ruttl/scripts@baea7ea/frame.min.js",st="ruttl-widget";function Q(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var V={exports:{}},at=V.exports,tt;function ut(){return tt||(tt=1,function(c,j){(function(D,h){c.exports=h()})(at,function(){var D=1e3,h=6e4,y=36e5,p="millisecond",m="second",g="minute",M="hour",u="day",d="week",a="month",v="quarter",S="year",_="date",I="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var n=["th","st","nd","rd"],t=o%100;return"["+o+(n[(t-20)%10]||n[t]||n[0])+"]"}},F=function(o,n,t){var r=String(o);return!r||r.length>=n?o:""+Array(n+1-r.length).join(t)+o},C={s:F,z:function(o){var n=-o.utcOffset(),t=Math.abs(n),r=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+F(r,2,"0")+":"+F(e,2,"0")},m:function o(n,t){if(n.date()<t.date())return-o(t,n);var r=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(r,a),i=t-e<0,s=n.clone().add(r+(i?-1:1),a);return+(-(r+(t-e)/(i?e-s:s-e))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:a,y:S,w:d,d:u,D:_,h:M,m:g,s:m,ms:p,Q:v}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},R="en",T={};T[R]=U;var k="$isDayjsObject",A=function(o){return o instanceof G||!(!o||!o[k])},B=function o(n,t,r){var e;if(!n)return R;if(typeof n=="string"){var i=n.toLowerCase();T[i]&&(e=i),t&&(T[i]=t,e=i);var s=n.split("-");if(!e&&s.length>1)return o(s[0])}else{var f=n.name;T[f]=n,e=f}return!r&&e&&(R=e),e||!r&&R},b=function(o,n){if(A(o))return o.clone();var t=typeof n=="object"?n:{};return t.date=o,t.args=arguments,new G(t)},l=C;l.l=B,l.i=A,l.w=function(o,n){return b(o,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var G=function(){function o(t){this.$L=B(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[k]=!0}var n=o.prototype;return n.parse=function(t){this.$d=function(r){var e=r.date,i=r.utc;if(e===null)return new Date(NaN);if(l.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var s=e.match(H);if(s){var f=s[2]-1||0,$=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],f,s[3]||1,s[4]||0,s[5]||0,s[6]||0,$)):new Date(s[1],f,s[3]||1,s[4]||0,s[5]||0,s[6]||0,$)}}return new Date(e)}(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return l},n.isValid=function(){return this.$d.toString()!==I},n.isSame=function(t,r){var e=b(t);return this.startOf(r)<=e&&e<=this.endOf(r)},n.isAfter=function(t,r){return b(t)<this.startOf(r)},n.isBefore=function(t,r){return this.endOf(r)<b(t)},n.$g=function(t,r,e){return l.u(t)?this[r]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,r){var e=this,i=!!l.u(r)||r,s=l.p(t),f=function(W,L){var x=l.w(e.$u?Date.UTC(e.$y,L,W):new Date(e.$y,L,W),e);return i?x:x.endOf(u)},$=function(W,L){return l.w(e.toDate()[W].apply(e.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(L)),e)},w=this.$W,O=this.$M,E=this.$D,Y="set"+(this.$u?"UTC":"");switch(s){case S:return i?f(1,0):f(31,11);case a:return i?f(1,O):f(0,O+1);case d:var N=this.$locale().weekStart||0,P=(w<N?w+7:w)-N;return f(i?E-P:E+(6-P),O);case u:case _:return $(Y+"Hours",0);case M:return $(Y+"Minutes",1);case g:return $(Y+"Seconds",2);case m:return $(Y+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,r){var e,i=l.p(t),s="set"+(this.$u?"UTC":""),f=(e={},e[u]=s+"Date",e[_]=s+"Date",e[a]=s+"Month",e[S]=s+"FullYear",e[M]=s+"Hours",e[g]=s+"Minutes",e[m]=s+"Seconds",e[p]=s+"Milliseconds",e)[i],$=i===u?this.$D+(r-this.$W):r;if(i===a||i===S){var w=this.clone().set(_,1);w.$d[f]($),w.init(),this.$d=w.set(_,Math.min(this.$D,w.daysInMonth())).$d}else f&&this.$d[f]($);return this.init(),this},n.set=function(t,r){return this.clone().$set(t,r)},n.get=function(t){return this[l.p(t)]()},n.add=function(t,r){var e,i=this;t=Number(t);var s=l.p(r),f=function(O){var E=b(i);return l.w(E.date(E.date()+Math.round(O*t)),i)};if(s===a)return this.set(a,this.$M+t);if(s===S)return this.set(S,this.$y+t);if(s===u)return f(1);if(s===d)return f(7);var $=(e={},e[g]=h,e[M]=y,e[m]=D,e)[s]||1,w=this.$d.getTime()+t*$;return l.w(w,this)},n.subtract=function(t,r){return this.add(-1*t,r)},n.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||I;var i=t||"YYYY-MM-DDTHH:mm:ssZ",s=l.z(this),f=this.$H,$=this.$m,w=this.$M,O=e.weekdays,E=e.months,Y=e.meridiem,N=function(L,x,z,X){return L&&(L[x]||L(r,i))||z[x].slice(0,X)},P=function(L){return l.s(f%12||12,L,"0")},W=Y||function(L,x,z){var X=L<12?"AM":"PM";return z?X.toLowerCase():X};return i.replace(q,function(L,x){return x||function(z){switch(z){case"YY":return String(r.$y).slice(-2);case"YYYY":return l.s(r.$y,4,"0");case"M":return w+1;case"MM":return l.s(w+1,2,"0");case"MMM":return N(e.monthsShort,w,E,3);case"MMMM":return N(E,w);case"D":return r.$D;case"DD":return l.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return N(e.weekdaysMin,r.$W,O,2);case"ddd":return N(e.weekdaysShort,r.$W,O,3);case"dddd":return O[r.$W];case"H":return String(f);case"HH":return l.s(f,2,"0");case"h":return P(1);case"hh":return P(2);case"a":return W(f,$,!0);case"A":return W(f,$,!1);case"m":return String($);case"mm":return l.s($,2,"0");case"s":return String(r.$s);case"ss":return l.s(r.$s,2,"0");case"SSS":return l.s(r.$ms,3,"0");case"Z":return s}return null}(L)||s.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,r,e){var i,s=this,f=l.p(r),$=b(t),w=($.utcOffset()-this.utcOffset())*h,O=this-$,E=function(){return l.m(s,$)};switch(f){case S:i=E()/12;break;case a:i=E();break;case v:i=E()/3;break;case d:i=(O-w)/6048e5;break;case u:i=(O-w)/864e5;break;case M:i=O/y;break;case g:i=O/h;break;case m:i=O/D;break;default:i=O}return e?i:l.a(i)},n.daysInMonth=function(){return this.endOf(a).$D},n.$locale=function(){return T[this.$L]},n.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),i=B(t,r,!0);return i&&(e.$L=i),e},n.clone=function(){return l.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},o}(),ot=G.prototype;return b.prototype=ot,[["$ms",p],["$s",m],["$m",g],["$H",M],["$W",u],["$M",a],["$y",S],["$D",_]].forEach(function(o){ot[o[1]]=function(n){return this.$g(n,o[0],o[1])}}),b.extend=function(o,n){return o.$i||(o(n,G,b),o.$i=!0),b},b.locale=B,b.isDayjs=A,b.unix=function(o){return b(1e3*o)},b.en=T[R],b.Ls=T,b.p={},b})}(V)),V.exports}var ct=ut();const et=Q(ct);var J={exports:{}},lt=J.exports,nt;function ft(){return nt||(nt=1,function(c,j){(function(D,h){c.exports=h()})(lt,function(){return function(D,h,y){D=D||{};var p=h.prototype,m={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function g(u,d,a,v){return p.fromToBase(u,d,a,v)}y.en.relativeTime=m,p.fromToBase=function(u,d,a,v,S){for(var _,I,H,q=a.$locale().relativeTime||m,U=D.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],F=U.length,C=0;C<F;C+=1){var R=U[C];R.d&&(_=v?y(u).diff(a,R.d,!0):a.diff(u,R.d,!0));var T=(D.rounding||Math.round)(Math.abs(_));if(H=_>0,T<=R.r||!R.r){T<=1&&C>0&&(R=U[C-1]);var k=q[R.l];S&&(T=S(""+T)),I=typeof k=="string"?k.replace("%d",T):k(T,d,R.l,H);break}}if(d)return I;var A=H?q.future:q.past;return typeof A=="function"?A(I):A.replace("%s",I)},p.to=function(u,d){return g(u,d,this,!0)},p.from=function(u,d){return g(u,d,this)};var M=function(u){return u.$u?y.utc():y()};p.toNow=function(u){return this.to(M(this),u)},p.fromNow=function(u){return this.from(M(this),u)}}})}(J)),J.exports}var dt=ft();const ht=Q(dt);var Z={exports:{}},mt=Z.exports,rt;function pt(){return rt||(rt=1,function(c,j){(function(D,h){c.exports=h()})(mt,function(){return function(D,h,y){y.updateLocale=function(p,m){var g=y.Ls[p];if(g)return(m?Object.keys(m):[]).forEach(function(M){g[M]=m[M]}),g}}})}(Z)),Z.exports}var $t=pt();const gt=Q($t);function K(c,j){return new URL(j,c.endsWith("/")?c:c+"/").toString()}function vt(c,j,D){if(!c)return c;try{const h=new URL(c,"http://ruttl"),y=h.protocol.toLowerCase();if(["javascript:","mailto:","tel:","data:","blob:","about:"].includes(y))return c;const p=new URL(D).origin;return h.origin===p?K(j,h.pathname+h.search+h.hash):c.startsWith("/")||!c.includes("://")?K(j,c):c}catch{return K(j,c)}}et.extend(gt),et.extend(ht),function(){const c=window.PROXY_HOST,j=window.DYNAMIC_TARGET;if(!c||!j){console.error("Ruttl Error: PROXY_HOST or DYNAMIC_TARGET not found on window object. Mutation Observer script cannot run.");return}const D=st,h=it,y=["href","src","action","poster"];function p(u,d){const a=u.getAttribute(d);if(!a)return;const v=vt(a,c,j);v!==a&&u.setAttribute(d,v)}let m=null;function g(){console.log("Ruttl Info: Attempting to inject/ensure Ruttl component presence in DOM.");let u=document.querySelector(`script[src="${h}"]`);if(u?console.log("Ruttl Info: Web component definition script already present:",h):(u=document.createElement("script"),u.type="module",u.src=h,u.defer=!0,document.head.appendChild(u),console.log("Ruttl Info: Dynamically added web component definition script:",h)),m=document.querySelector(D),m)console.log("Ruttl Info: Web component element already present in DOM. No new injection needed.");else{console.log("Ruttl Info: Web component element NOT found, proceeding to create and inject.");const d=document.body;d?(m=document.createElement(D),d.appendChild(m),console.log("Ruttl Info: Web component dynamically injected into document.body."),y.forEach(a=>{m.hasAttribute(a)&&p(m,a),m.querySelectorAll(`[${a}]`).forEach(v=>p(v,a))}),console.log("Ruttl Info: Initial attribute rewrites applied to new component instance.")):console.warn("Ruttl Warning: Could not find document.body for web component injection. Component might not be visible.")}y.forEach(d=>{document.querySelectorAll(`[${d}]`).forEach(a=>p(a,d))}),console.log("Ruttl Info: Global attribute rewrites applied to current DOM state.")}function M(){console.log("Ruttl Info: Setting up Mutation Observer to monitor DOM changes."),new MutationObserver(d=>{d.forEach(a=>{a.type==="attributes"&&a.attributeName!==null&&y.includes(a.attributeName)&&p(a.target,a.attributeName),a.type==="childList"&&a.addedNodes.length>0&&a.addedNodes.forEach(v=>{v instanceof HTMLElement&&y.forEach(S=>{v.hasAttribute(S)&&p(v,S),v.querySelectorAll(`[${S}]`).forEach(_=>p(_,S))})}),a.type==="childList"&&a.removedNodes.length>0&&a.removedNodes.forEach(v=>{(v===m||v instanceof HTMLElement&&v.tagName.toLowerCase()===D.toLowerCase())&&(console.warn("Ruttl Warning: MO detected our web component was REMOVED! Attempting immediate re-injection."),setTimeout(g,10))})})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:y}),console.log("Ruttl Info: MutationObserver successfully started on document.body.")}document.addEventListener("DOMContentLoaded",()=>{console.log("Ruttl Info: DOMContentLoaded event fired. Activating injector functions."),g(),M()}),window.addEventListener("load",()=>{console.log("Ruttl Info: window.onload event fired. Activating injector (fallback)."),g(),M()}),setTimeout(()=>{console.log("Ruttl Info: Failsafe timeout (1s) triggered. Ensuring Ruttl elements are present."),g(),M()},1e3),setTimeout(()=>{console.log("Ruttl Info: Failsafe timeout (3s) triggered. Ensuring Ruttl elements are present."),g(),M()},3e3),setTimeout(()=>{console.log("Ruttl Info: Failsafe timeout (5s) triggered. Ensuring Ruttl elements are present."),g(),M()},5e3),console.log("Ruttl Info: Client-side injector script initialization complete. Waiting for DOM events to trigger main logic.")}()})();
